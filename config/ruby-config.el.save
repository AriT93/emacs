(require 'ecb-autoloads)
(autoload 'ruby-mode "ruby-mode" "Ruby editing mode." t)
(setq auto-mode-alist (cons '("\\.rb$" . ruby-mode) auto-mode-alist))
(setq auto-mode-alist (cons '("\\.rhtml$" . html-mode) auto-mode-alist))


(require 'yasnippet)
;;(require 'rails)

(defun try-complete-abbrev (old)
  (if (expand-abbrev) t nil))

(setq hippie-expand-try-functions-list
      '(try-complete-abbrev
        try-complete-file-name
        try-expand-dabbrev))

(add-hook 'ruby-mode-hook
          (lambda()
                (add-hook 'local-write-file-hooks
                          '(lambda()
                             (save-excursion
                               (untabify (point-min) (point-max))
                               (delete-trailing-whitespace)
                               )))
          (set (make-local-variable 'indent-tabs-mode) 'nil)
          (set (make-local-variable 'tab-width) 2)
          (imenu-add-to-menubar "IMENU")
;          (require 'ruby-electric)
;          (ruby-electric-mode t)
          ))
(provide 'ruby-config)
